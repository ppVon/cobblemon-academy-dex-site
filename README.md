# Modpack Pokédex (Cobblemon)

A tiny static site + data extractor that builds a **modpack-specific Pokédex** from your Minecraft instance (Cobblemon + any addons/overrides).  
This repo contains:

- `main.js, index.html, /components, /utils` — static website (no server needed)
- `/out` — generated data consumed by the site
- `/scripts/dex_build.py` — Python **3.12** script that scans a Minecraft instance for Cobblemon data and emits normalized JSON

---

## Quick Start (view the site locally)

You only need a static file server.

1. Install a simple static server

```bash
npm i -g http-server
```

2. Serve the site

```bash
http-server -p 8080 .
```

3. Open in browser
   http://localhost:8080

> The site expects an `/out` folder **next to** `main.js`. If you haven’t generated data yet, see **Regenerate the Data** below.

---

## Regenerate the Data (Python 3.12)

The extractor is designed to be **run from the root of your Minecraft instance** (the folder that contains `mods/`, `config/`, `resourcepacks/`, etc.). It scans jars/zips and datapacks to extract Cobblemon content and writes an `/out` directory.

```bash
# From your Minecraft instance root:
# (Ensure Python 3.12 is available as `python` or `python3.12`)
python3.12 dex_build.py
```

When it finishes, you’ll have:

```
<minecraft-instance>/
├─ mods/
├─ config/
├─ ...
└─ out/                  # ← generated by the script
   ├─ mons/
   ├─ biomes.json
   ├─ blocks.json
   ├─ dex.json
   ├─ drops_index.json
   ├─ presets.json
   ├─ species_sources.json
   └─ sprites.json
```

Copy or move that `out/` directory into the site next to `main.js`:

```
repo/
    ├─ index.html
    ├─ main.js
    ├─ styles.css
    └─ out/              # ← place the generated folder here
        ├─ dex.json
        └─ ...
```

Then serve the site (see **Quick Start**).

---

## What the Extractor Does (high level)

- Walks the **Minecraft instance** (mods, datapacks, and overrides)
- Finds and merges Cobblemon data (e.g., Pokémon definitions, spawn rules, evolutions, items, moves)
- Normalizes to stable JSON files in `/out`
- The site reads `/out/*.json` at runtime (no build step required)

> The extractor prioritizes data in this order: **modpack overrides/datapacks → mod jars** (so your pack-specific changes win).

---

## Repository Layout

```
repo/
├─ site/
│  ├─ index.html
│  ├─ main.js
│  ├─ styles.css
│  └─ out/            # generated data goes here (not committed by default)
├─ tools/
│  └─ extract.py      # Python 3.12 script (run in MC instance root)
└─ README.md
```

---

## Requirements

- **Python 3.12**
- A Minecraft instance with **Cobblemon** (and any addons/overrides you want reflected)
- Optional: **Node.js** (only to install `http-server` for local preview)

---

## Common Pitfalls & Tips

- **Run location matters:** Execute `extract.py` **from the Minecraft instance root**. It writes `./out/` right there.
- **Game running:** Close Minecraft while extracting—some launchers lock files.
- **Large modpacks:** Extraction can take a bit; jars/zips are scanned.
- **Missing data in site:** Make sure `/site/out/` exists and contains JSON. If you generated `out/` elsewhere, move it into `/site/`.

---

## Contributing

PRs welcome! Helpful areas:

- Handling new Cobblemon schema changes or addon quirks
- Improving merge logic and diagnostics
- UX improvements for the static site

Please keep PRs focused and include a short description plus steps to test.

---

## FAQ

**Q: Can I point the site at a different `out/` folder?**  
For GitHub Pages or local preview, simplest is to copy the generated `out/` next to `main.js`. If you host elsewhere, ensure your web root serves `/out/` alongside the site files.

**Q: Does this require Fabric/Forge at runtime?**  
No. The **site** is static. The **extractor** just reads files from your instance—no mod loader needed at extract time.

**Q: Which Python version exactly?**  
**3.12**. Other versions aren’t supported.

---

Happy catching! 🎣 If you run into issues, please open an issue with:

- Your OS and Python version (`python --version`)
- How you invoked the script
- A redacted tree of your instance root (`mods/`, `datapacks/`, etc.)
- Any error output/logs
